(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{188:function(t,a,s){"use strict";s.r(a);var e=s(0),n=Object(e.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"react学习笔记"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#react学习笔记","aria-hidden":"true"}},[t._v("#")]),t._v(" React学习笔记")]),t._v(" "),s("blockquote",[s("p",[t._v("之前根据官方文档的"),s("a",{attrs:{href:"https://react.docschina.org/tutorial/tutorial.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("教程"),s("OutboundLink")],1),t._v("写了一个"),s("code",[t._v("DEMO")]),t._v("，感觉还是不够，所以特意上网找了一些更为全面的教程进行练手。毕竟无论学习什么，最快上手的方式都是自己撸一撸。")])]),t._v(" "),s("p",[t._v("具体练手项目可以参考："),s("a",{attrs:{href:"https://github.com/Kim1am/react-practice",target:"_blank",rel:"noopener noreferrer"}},[t._v("源码地址"),s("OutboundLink")],1),t._v("进行参考")]),t._v(" "),s("blockquote",[s("p",[t._v("项目具体的技术栈为："),s("code",[t._v("axios")]),t._v(","),s("code",[t._v("react-router-dom")]),t._v(","),s("code",[t._v("jsonp")]),t._v(","),s("code",[t._v("antdesign")]),t._v(","),s("code",[t._v("less")]),t._v(","),s("code",[t._v("echarts")]),t._v(","),s("code",[t._v("mockjs")]),t._v(","),s("code",[t._v("draft-js")]),t._v(","),s("code",[t._v("draftjs-to-html")]),t._v(","),s("code",[t._v("react-draft-wysiwyg")]),t._v("。但是这次总结主要是围绕"),s("code",[t._v("react")])])]),t._v(" "),s("h2",{attrs:{id:"项目入口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#项目入口","aria-hidden":"true"}},[t._v("#")]),t._v(" 项目入口")]),t._v(" "),s("p",[t._v("  每当我们运行"),s("code",[t._v("create-react-app projectName")]),t._v("得时候都会生成2个文件夹("),s("code",[t._v("node_modules")]),t._v("暂时忽略)，分别是"),s("code",[t._v("pubilc")]),t._v("以及"),s("code",[t._v("src")]),t._v("。开发的重点主要也是围绕在\n"),s("code",[t._v("src")]),t._v("文件夹。然后根据平时的经验，"),s("code",[t._v("index.js")]),t._v("文件一般都是为项目的入口，那就直接从这个文件开始观看。懒得对着图片打字了，就直接在图片上解释吧，看图！\n"),s("img",{attrs:{src:"https://www.z4a.net/images/2019/11/05/index.png",alt:"index.png"}})]),t._v(" "),s("p",[s("code",[t._v("index.js")]),t._v("本身内容不多，大概也就这些，当然，如果我们只是练手的话，可以把"),s("code",[t._v("serviceWorker")]),t._v("删掉，问题也不大。当然如果发布到线上的话建议还是好好研究一下")]),t._v(" "),s("h2",{attrs:{id:"书写组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#书写组件","aria-hidden":"true"}},[t._v("#")]),t._v(" 书写组件")]),t._v(" "),s("p",[t._v("   写一个最简单的"),s("code",[t._v("Component")]),t._v(",是怎样的呢？目前接触过的有两种方式（经过查询还有"),s("code",[t._v("React.createClass")]),t._v("这种方式，但是本人没有接触过）：")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("Component"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'react'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Example")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Component")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n   "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Example"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("OtherExample")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("h1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("Hello"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("props"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("h1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br")])]),s("p",[t._v("  在我理解中，这两种声明组件模式都是可以的，前者使用的"),s("code",[t._v("ES6")]),t._v("的"),s("code",[t._v("class")]),t._v(" ，后者则是使用的是"),s("code",[t._v("函数组件")]),t._v("（也称为"),s("code",[t._v("无状态组件")]),t._v("）。在我使用的方式来说，一般都是使用前者的，不管是否使用"),s("code",[t._v("生命周期")]),t._v("还是"),s("code",[t._v("state")]),t._v("（在16.8中也可以使用"),s("code",[t._v("Hooks")]),t._v("访问"),s("code",[t._v("生命周期")]),t._v("和"),s("code",[t._v("state")]),t._v("），因为这样在\n项目里面看起来更为美观和规范。\n  需要注意的是，组件名称的首字母“必须”要为“大写字母”；还有"),s("code",[t._v("render")]),t._v("内部返回的代码里面，“有且只能”有一个根节点，如果说例如一定要用两个或者多个节点挂载到父节点上，可以选择使用"),s("code",[t._v("Fragment")]),t._v("，这个类似于一个虚拟的占位符，就行了。")]),t._v(" "),s("h2",{attrs:{id:"踩过的坑点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#踩过的坑点","aria-hidden":"true"}},[t._v("#")]),t._v(" 踩过的坑点")]),t._v(" "),s("blockquote",[s("p",[t._v("以下内容都是开发的时候我觉得要注意的点，我在学习的过程中不小心踩了几次，特意记录了下来。")])]),t._v(" "),s("h3",{attrs:{id:"绑定事件的方式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#绑定事件的方式","aria-hidden":"true"}},[t._v("#")]),t._v(" 绑定事件的方式")]),t._v(" "),s("p",[t._v("  首先一定要记住的是，绑定事件的名称一定要用驼峰式："),s("code",[t._v("onClick")]),t._v("、"),s("code",[t._v("onChange")]),t._v("……这种。而且绑定事件的时候不能加括号，在JSX里面这是运行的标志，直接写方法名字就行。另外多说一个,"),s("code",[t._v("class")]),t._v("需要改成"),s("code",[t._v("className")]),t._v("才能生效。多说无益，直接贴图吧")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://www.z4a.net/images/2019/11/05/method.png",alt:"method.png"}})]),t._v(" "),s("h3",{attrs:{id:"setstate的坑"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#setstate的坑","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("code",[t._v("setState")]),t._v("的坑")]),t._v(" "),s("p",[s("code",[t._v("setState")]),t._v("本身并非“同步”的！！，在做练手项目的时候，有一个数据处理是需要依赖"),s("code",[t._v("state")]),t._v("的本身。但是发现并没有按照原本设想的逻辑进行，从而踩到这个坑。经过查阅官方文档以及技术论坛，发现了"),s("code",[t._v("setState")]),t._v("本身为了性能优化，以及数据更新的一致性（"),s("code",[t._v("props")]),t._v("）才做的处理。\n这个机制就有点像"),s("code",[t._v("Vue")]),t._v("本身的"),s("code",[t._v("nextTick")]),t._v("。如果真的需要同步，可以通过使用"),s("code",[t._v("setState")]),t._v("本身的第二个参数（回调函数），来进行处理。详细原理后续可能会出文章深入。")]),t._v(" "),s("div",{staticClass:"language-javascript line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'加载完成'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("h3",{attrs:{id:"生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#生命周期","aria-hidden":"true"}},[t._v("#")]),t._v(" 生命周期")]),t._v(" "),s("p",[t._v("  无论什么框架都离不开生命周期这一说。在"),s("code",[t._v("react")]),t._v("中有着丰富的生命周期，下面按照生命周期的顺序梳理一遍。")]),t._v(" "),s("ol",[s("li",[s("code",[t._v("constructor")]),t._v("-------组件挂在前调用，初始化"),s("code",[t._v("state")]),t._v("，绑定事件示例（"),s("code",[t._v("this")]),t._v("）")]),t._v(" "),s("li",[s("code",[t._v("*componentWillMount")]),t._v("   -------注意：该组件归为警告API，在挂载前调用，整个生命周期只会调用一次，更新不调用")]),t._v(" "),s("li",[s("code",[t._v("render")]),t._v(" ------- 必须要有的函数，挂载组件，每次更改"),s("code",[t._v("state")]),t._v("或者"),s("code",[t._v("props")]),t._v("都会调用，除非被"),s("code",[t._v("shouldComponentUpdate")]),t._v("返回"),s("code",[t._v("false")])]),t._v(" "),s("li",[s("code",[t._v("componentDidMount")]),t._v(" ------- 挂载组件后被调用，官方推荐在这个生命周期内部进行类似请求还有"),s("code",[t._v("setState")]),t._v("操作，进行DOM节点初始化。")])]),t._v(" "),s("p",[t._v("以上都是挂载的生命周期，对应的还有更新组件的生命周期")]),t._v(" "),s("ol",[s("li",[s("code",[t._v("*componentWillReceiveProps")]),t._v("------- -注意：该组件归为警告API，当接受到新的"),s("code",[t._v("props")]),t._v("时调用，更改"),s("code",[t._v("state")]),t._v("不会触发，")]),t._v(" "),s("li",[s("code",[t._v("shouldComponentUpdate")]),t._v("   -------  这个生命周期控制了组件是否重新渲染，当返回"),s("code",[t._v("true")]),t._v("的时候会"),s("code",[t._v("render")]),t._v("，为"),s("code",[t._v("false")]),t._v("则不渲染，且不会运行"),s("code",[t._v("componentWillUpdate")]),t._v("、"),s("code",[t._v("render")]),t._v("以及"),s("code",[t._v("componentDidUpdate")])]),t._v(" "),s("li",[s("code",[t._v("*componentWillUpdata")]),t._v(" ------- 注意：该组件归为警告API，这个生命周期同样的会在组件更新前触发，不过会在"),s("code",[t._v("shouldComponentUpdate")]),t._v("之后,在这个API之后就会运行"),s("code",[t._v("render")])]),t._v(" "),s("li",[s("code",[t._v("componentDidUpdate")]),t._v(" ------- 组件更新后会调用，但是首次渲染不会调用")])]),t._v(" "),s("p",[t._v("卸载生命周期："),s("code",[t._v("componentWillUnmount")]),t._v("组件卸载或者销毁时触发，一般用于清除定时器以及订阅等等操作")]),t._v(" "),s("blockquote",[s("p",[t._v("当然不止这些一些比较陌生的生命周期："),s("code",[t._v("getDerivedStateFromProps")]),t._v("、"),s("code",[t._v("getSnapshotBeforeUpdate")]),t._v("、"),s("code",[t._v("getDerivedStateFromError")]),t._v("、"),s("code",[t._v("componentDidCatch")]),t._v("，这些暂时还没想到有特别大的应用区域就不作解释了")])]),t._v(" "),s("h3",{attrs:{id:"表单组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#表单组件","aria-hidden":"true"}},[t._v("#")]),t._v(" 表单组件")]),t._v(" "),s("p",[t._v("  从"),s("code",[t._v("Vue")]),t._v("到"),s("code",[t._v("React")]),t._v("，其中一个很大的区别就是数据流向的差别，"),s("code",[t._v("react")]),t._v("是单向数据流，如果要实现类似于"),s("code",[t._v("Vue")]),t._v("中的双向绑定，一般都选择绑定"),s("code",[t._v("onChange")]),t._v("事件，然后对对应的"),s("code",[t._v("state")]),t._v("作出更改。当然这些都是没有应用其他框架的情况，如果有使用"),s("code",[t._v("ant-design")]),t._v("的话就可以使用其内部的表单组件进行。")]),t._v(" "),s("h3",{attrs:{id:"父子组件通讯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#父子组件通讯","aria-hidden":"true"}},[t._v("#")]),t._v(" 父子组件通讯")]),t._v(" "),s("p",[t._v("  类似于"),s("code",[t._v("Vue")]),t._v("，永远离不开的都是数据通讯问题，其实两个框架都很相像,看图！")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://www.z4a.net/images/2019/11/05/fatherSon.png",alt:"fatherSon.png"}})]),t._v(" "),s("blockquote",[s("p",[t._v("总结：这篇文章主要是我在学习"),s("code",[t._v("react")]),t._v("时做的一些总结，是我个人需要注意的一些点。当然每个人觉得需要注意的点都不一样，如果你有其他觉得要注意的，也可以去我的"),s("a",{attrs:{href:"https://github.com/Kim1am/kim1am.github.io/issues",target:"_blank",rel:"noopener noreferrer"}},[t._v("issue"),s("OutboundLink")],1),t._v("里面提出。大家一起交流一起学习！")])])])},[],!1,null,null,null);a.default=n.exports}}]);