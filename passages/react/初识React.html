<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>初识React | Kim1am 博客</title>
    <meta name="description" content="开始，永远不会迟">
    <link rel="icon" href="/Kim1am.ico">
    
    <link rel="preload" href="/assets/css/0.styles.f8e88387.css" as="style"><link rel="preload" href="/assets/js/app.68c58eb5.js" as="script"><link rel="preload" href="/assets/js/2.0f596662.js" as="script"><link rel="preload" href="/assets/js/10.8746346a.js" as="script"><link rel="prefetch" href="/assets/js/11.0fd6c76a.js"><link rel="prefetch" href="/assets/js/3.cedc635f.js"><link rel="prefetch" href="/assets/js/4.9f5c36e4.js"><link rel="prefetch" href="/assets/js/5.e149ff1e.js"><link rel="prefetch" href="/assets/js/6.80cdcc4f.js"><link rel="prefetch" href="/assets/js/7.f97af0d5.js"><link rel="prefetch" href="/assets/js/8.0a50bf25.js"><link rel="prefetch" href="/assets/js/9.c5be7144.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f8e88387.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Kim1am 博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>ES6</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/passages/ES6/ES6（个人总结一）.html" class="nav-link">ES6个人心得上</a></li><li class="dropdown-subitem"><a href="/passages/ES6/ES6（个人总结二）.html" class="nav-link">ES6个人心得下</a></li></ul></li><li class="dropdown-item"><h4>JavaScript</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/passages/JavaScript/简易弹幕.html" class="nav-link">简易弹幕</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">React</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/passages/react/初识React.html" class="nav-link">react</a></li><li class="dropdown-item"><!----> <a href="/passages/react/React学习笔记.html" class="nav-link">react学习笔记</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/Kim1am" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>ES6</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/passages/ES6/ES6（个人总结一）.html" class="nav-link">ES6个人心得上</a></li><li class="dropdown-subitem"><a href="/passages/ES6/ES6（个人总结二）.html" class="nav-link">ES6个人心得下</a></li></ul></li><li class="dropdown-item"><h4>JavaScript</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/passages/JavaScript/简易弹幕.html" class="nav-link">简易弹幕</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">React</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/passages/react/初识React.html" class="nav-link">react</a></li><li class="dropdown-item"><!----> <a href="/passages/react/React学习笔记.html" class="nav-link">react学习笔记</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/Kim1am" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>JavaScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/passages/ES6/ES6（个人总结一）.html" class="sidebar-link">ES6 新特性（个人总结一）</a></li><li><a href="/passages/ES6/ES6（个人总结二）.html" class="sidebar-link">ES6（个人总结二）</a></li><li><a href="/passages/JavaScript/简易弹幕.html" class="sidebar-link">简易弹幕制作</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>react</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/passages/react/初识React.html" class="active sidebar-link">初识React</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/passages/react/初识React.html#开发环境搭建" class="sidebar-link">开发环境搭建</a></li><li class="sidebar-sub-header"><a href="/passages/react/初识React.html#分析初始代码" class="sidebar-link">分析初始代码</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/passages/react/初识React.html#组件传值" class="sidebar-link">组件传值</a></li><li class="sidebar-sub-header"><a href="/passages/react/初识React.html#组件交互" class="sidebar-link">组件交互</a></li><li class="sidebar-sub-header"><a href="/passages/react/初识React.html#完善组件" class="sidebar-link">完善组件</a></li><li class="sidebar-sub-header"><a href="/passages/react/初识React.html#函数组件" class="sidebar-link">函数组件</a></li><li class="sidebar-sub-header"><a href="/passages/react/初识React.html#井字棋获胜方法" class="sidebar-link">井字棋获胜方法</a></li><li class="sidebar-sub-header"><a href="/passages/react/初识React.html#后续" class="sidebar-link">后续</a></li><li class="sidebar-sub-header"><a href="/passages/react/初识React.html#总结" class="sidebar-link">总结</a></li></ul></li></ul></li><li><a href="/passages/react/React学习笔记.html" class="sidebar-link">React学习笔记</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="初识react"><a href="#初识react" aria-hidden="true" class="header-anchor">#</a> 初识React</h1> <blockquote><p>最近在逛<a href="https://juejin.im/" target="_blank" rel="noopener noreferrer">掘金<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>的时候，无意浏览到挺多关于React的文章。由于平时也只是接触Vue比较多，React也只是道听途说的路上，借此机会去学习一下React，直接上手<a href="https://react.docschina.org/tutorial/tutorial.html" target="_blank" rel="noopener noreferrer">React官方教程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>就行，这篇文章是跟着教程走的时候的总结。</p></blockquote> <h2 id="开发环境搭建"><a href="#开发环境搭建" aria-hidden="true" class="header-anchor">#</a> 开发环境搭建</h2> <p>  首先官网给的是两种方式去搭建环境：1、直接在浏览器中<a href="https://codepen.io/gaearon/pen/oWWQNa?editors=0010" target="_blank" rel="noopener noreferrer">codePen<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>编写代码;2、直接搭建本地开发环境。我这里选择的是第二种
<code>npx create-react-app my-app</code>过程有点漫长，耐心等待一下就好。当你看到</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>We suggest that you begin by typing:

  cd my-app
  yarn start

Happy hacking!
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>  就证明安装成功。不过我们不急着跟着提示弄，我们跟着官方文档就行。当然你也可以先试试项目运行是什么效果的，看个人选择。跟着官方教程的话，我们需要删掉<code>src</code>文件夹下的所有文件，但<strong>不包括src本身</strong>,然后跟着教程搬一下代码就好，这里就不做过多解释了。</p> <h2 id="分析初始代码"><a href="#分析初始代码" aria-hidden="true" class="header-anchor">#</a> 分析初始代码</h2> <h3 id="组件传值"><a href="#组件传值" aria-hidden="true" class="header-anchor">#</a> 组件传值</h3> <p>  顺利按照官方文档走的，可以看到<code>index.js</code>里面只有3个组件<code>Square,Board,Game</code>，他们是组成棋盘的主体。而<code>Square</code>组件在<code>Board</code>组件里调用<code>renderSquare</code>了9次，</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Board</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">renderSquare</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>Square <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> status <span class="token operator">=</span> <span class="token string">'Next player: X'</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;status&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>status<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;board-row&quot;</span><span class="token operator">&gt;</span>
          <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderSquare</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
          <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderSquare</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
          <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderSquare</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;board-row&quot;</span><span class="token operator">&gt;</span>
          <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderSquare</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
          <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderSquare</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
          <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderSquare</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;board-row&quot;</span><span class="token operator">&gt;</span>
          <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderSquare</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
          <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderSquare</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
          <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderSquare</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p>  分别对应9个<code>Button</code>按钮,通过代码，我们可以初步猜测<code>renderSquare</code>就是用来渲染按钮的，但是肯定有后续操作才会特意去创建一个渲染方法去render按钮。作为证明，我们也可以直接更改<code>{this.renderSquare(n)}</code>为<code>&lt;Square /&gt;</code>也可以正常显示的。
由此可以猜想，<code>renderSquare(n)</code>中的<code>n</code>无非就是用作传递位置参数，对应棋盘的方格位置。</p> <p>  但是要怎么传到<code>Square</code>组件内部，就是需要学习的。在下一步就能看到，直接在<code>renderSquare</code>方法里直接<code>return &lt;Square value={i} /&gt;;</code>，这样就是传递参数，然后在<code>Square</code>组件里通过<code>{this.props.value}</code>就可以访问到参数。
猜测一下就是组件参数访问可以通过<code>{this.props.key}</code>访问，传值的话直接通过<code>&lt;组件名 key={value} /&gt;</code>形式传递。这个形式和<code>Vue</code>父子组件间的数据通信有点大同小异。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token comment">//证明</span>
    <span class="token keyword">class</span> <span class="token class-name">Square</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
      <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token string">&quot;square&quot;</span> data<span class="token operator">-</span>dex<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>buttonIndex<span class="token punctuation">}</span><span class="token operator">&gt;</span>
            <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>buttonIndex<span class="token punctuation">}</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">class</span> <span class="token class-name">Board</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
      <span class="token function">renderSquare</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>Square value<span class="token operator">=</span><span class="token punctuation">{</span>i<span class="token punctuation">}</span> buttonIndex<span class="token operator">=</span><span class="token punctuation">{</span>i<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">//··············省略</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="组件交互"><a href="#组件交互" aria-hidden="true" class="header-anchor">#</a> 组件交互</h3> <p>  在交互方面，React在监听事件方面更加相似于原生的DOM元素，例如教程中的<code>click</code>事件，直接在组件上写<code>onClick</code>，使用驼峰式命名，并且后面直接写对应的方法即可,例如<code>onBlur,onMouseEnter</code>等等。</p> <p>  教程里直接是在组件上使用ES6的箭头函数，理由是以防<code>this</code>的指向错误，经过测试，如果直接<code>function () {console.log(this)}</code>，这里的this指向的是<code>undefinded</code>，如果改成箭头函数，<code>this</code>则会指向组件本身。
当然，如果真正要绑定事件，肯定不会直接把整个<code>Funciton</code>写到render上面，肯定是绑定通过绑定函数名去绑定事件。这里还是参考<a href="https://react.docschina.org/docs/handling-events.html" target="_blank" rel="noopener noreferrer">官方文档--事件处理<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p> <p>  后面教程上给出了一个<code>state</code>的概念，初看以为类似于v<code>Vuex</code>中的<code>state</code>，但是仔细一想应该不是，因为这个<code>state</code>更贴切来说是对应自己组件的，更类似与<code>Vue</code>里面的<code>data</code>属性。
而他改变<code>state</code>的方式，和<strong>小程序</strong>基本一样，也是通过<code>this.setSate</code>方式，然后就回去重新渲染<code>React</code>组件。另外，<code>state</code>需要定义在组件内部的构造函数<code>constructor</code>内部，且固定<code>super(props)</code></p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">class</span> <span class="token class-name">componentName</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
      <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
            stateName<span class="token punctuation">:</span> <span class="token string">'Hello World'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>
            <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>stateName<span class="token punctuation">}</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>  以上都是官方教程内的最基本教程，分别简单地介绍了：“父子组件传值”，“组件交互方式”。但是也可以看到<code>React</code>是如何进行变量赋值，及组件渲染，组件嵌套方式。
后面的教程会更加对基础知识深入一点，对组件的设计以及数据方面会更加合理。</p> <h3 id="完善组件"><a href="#完善组件" aria-hidden="true" class="header-anchor">#</a> 完善组件</h3> <blockquote><p>当你遇到需要同时获取多个子组件数据，或者两个组件之间需要相互通讯的情况时，需要把子组件的 state 数据提升至其共同的父组件当中保存。之后父组件可以通过 props 将状态数据传递到子组件当中。这样应用当中所有组件的状态数据就能够更方便地同步共享了。</p></blockquote> <p>  由于上面的教程上的<code>Square</code>组件维护了自身的一个state，但是如果<code>Board</code>父组件需要收集组件的state的时候则会造成困难，虽然教程里的只有9个子组件，但是如果日后遇到维护多个子组件的<code>state</code>时候，就会难进行维护。</p> <p>  所以根据官网这段话，可以把子组件的<code>state</code>提升到父组件上，然后通过前文所说的父子组件进行<code>props</code>分发，这样更容易维护。用最简单的解释方法就是，把“儿子”的数据收集起来，统一交由“父亲”管理，然后通过“父亲”逐一分发给每个“儿子”。所以通过上面教程那样，将收集回来的数据，通过参数化形式传递到子组件。</p> <p>  那么这个时候，原本存在于<code>Square</code>组件内部的state不再拥有，因为已经“上交”给父组件(<code>Board</code>)，所以可以删掉对应的<code>state</code>，并且对应的<code>onClick</code>事件也要更改，因为原方法是直接更改<code>this.setState</code>。</p> <p>  对于初学<code>React</code>的我来说这个时候懵了，因为不知道如何通过点击事件去更改父组件（<code>Board</code>），当然在<code>Vue</code>里面就是一个简单的父子组件通讯而已。但是在React中，教程是通过“事件作为参数传递”。也就是把处理父组件<code>Board</code>的<code>state</code>的方法作为参数传递到子组件<code>Square</code>，然后子组件直接绑定一个<code>onCLick</code>事件去
间接触发父组件<code>Board</code>的<code>setState</code>。这种上交管理数据，并且方法互相触发，有循环回路（<code>Board-Square（受控组件）</code>），被收集数据的组件，统称为<strong>受控组件</strong>。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Square</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token string">&quot;square&quot;</span>
             onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">onClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>   <span class="token comment">//重点1</span>
        <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>value<span class="token punctuation">}</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Board</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
      squares<span class="token punctuation">:</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> squares <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>squares<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    squares<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'X'</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      squares<span class="token punctuation">:</span> squares
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">renderSquare</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>Square
      value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>squares<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">}</span>
      onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleClick</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span>   <span class="token comment">//重点</span>
    <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
    
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//··············省略</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div><h3 id="函数组件"><a href="#函数组件" aria-hidden="true" class="header-anchor">#</a> 函数组件</h3> <p>  函数组件，在我从字面上理解就是把组件当成函数去编写，不再通过继承<code>React.Component</code>去定义类，而是通过直接一个<code>function</code>声明组件，直接<code>return</code>所需要的元素，但是这么做的前提是不包含<code>state</code>。</p> <h3 id="井字棋获胜方法"><a href="#井字棋获胜方法" aria-hidden="true" class="header-anchor">#</a> 井字棋获胜方法</h3> <p>  教程里还提供了一个<code>function</code>专门用来计算什么情况是赢家。顺路啰嗦分析一下这个函数是怎么计算的。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">calculateWinner</span><span class="token punctuation">(</span><span class="token parameter">squares</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> lines <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">//改二维数组存放的就是井字棋个种获胜情况。行排3种，竖排3种，对角线2种。</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> lines<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">]</span> <span class="token operator">=</span> lines<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>squares<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> squares<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">===</span> squares<span class="token punctuation">[</span>b<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> squares<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">===</span> squares<span class="token punctuation">[</span>c<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//只要不为NULL,并且3个位置对应相等，即返回对应符号</span>
      <span class="token keyword">return</span> squares<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="后续"><a href="#后续" aria-hidden="true" class="header-anchor">#</a> 后续</h3> <p>  在教程最后的地方，也就是根据用户操作储存历史操作记录。然后根据数组进行循环生成<code>li</code>。在做这一步的时候，和官网显示的一样，<code>console</code>报错。其实根据含义就能猜测到基本和<code>v-for</code>内部的<code>key</code>一个道理，循环生成的元素最好添加唯一<code>key</code>。</p> <blockquote><p>每当一个列表重新渲染时，React 会根据每一项列表元素的 key 来检索上一次渲染时与每个 key 所匹配的列表项。如果 React 发现当前的列表有一个之前不存在的 key，那么就会创建出一个新的组件。如果 React 发现和之前对比少了一个 key，那么就会销毁之前对应的组件。如果一个组件的 key 发生了变化，这个组件会被销毁，然后使用新的 state 重新创建一份。</p></blockquote> <h3 id="总结"><a href="#总结" aria-hidden="true" class="header-anchor">#</a> 总结</h3> <p>  教程很简短也易懂，基础概念解释得挺容易懂，我个人是比较喜欢直接上手一些小demo去接触新技术。这样更容易理解每个技术得用法，再慢慢通过用法去加深理解。这篇文章算是刚入门时候的心得以及理解，可能不适合其他人观看，但是可以借鉴一下，看看我和其他人的想法有什么不一样。</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新于: </span> <span class="time">8/6/2019, 4:26:44 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/passages/JavaScript/简易弹幕.html" class="prev">
          简易弹幕制作
        </a></span> <span class="next"><a href="/passages/react/React学习笔记.html">
          React学习笔记
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.68c58eb5.js" defer></script><script src="/assets/js/2.0f596662.js" defer></script><script src="/assets/js/10.8746346a.js" defer></script>
  </body>
</html>
