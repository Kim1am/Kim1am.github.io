<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>React学习笔记 | Kim1am 博客</title>
    <meta name="description" content="开始，永远不会迟">
    <link rel="icon" href="/Kim1am.ico">
    
    <link rel="preload" href="/assets/css/0.styles.f8e88387.css" as="style"><link rel="preload" href="/assets/js/app.68c58eb5.js" as="script"><link rel="preload" href="/assets/js/2.0f596662.js" as="script"><link rel="preload" href="/assets/js/9.c5be7144.js" as="script"><link rel="prefetch" href="/assets/js/10.8746346a.js"><link rel="prefetch" href="/assets/js/11.0fd6c76a.js"><link rel="prefetch" href="/assets/js/3.cedc635f.js"><link rel="prefetch" href="/assets/js/4.9f5c36e4.js"><link rel="prefetch" href="/assets/js/5.e149ff1e.js"><link rel="prefetch" href="/assets/js/6.80cdcc4f.js"><link rel="prefetch" href="/assets/js/7.f97af0d5.js"><link rel="prefetch" href="/assets/js/8.0a50bf25.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f8e88387.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Kim1am 博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>ES6</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/passages/ES6/ES6（个人总结一）.html" class="nav-link">ES6个人心得上</a></li><li class="dropdown-subitem"><a href="/passages/ES6/ES6（个人总结二）.html" class="nav-link">ES6个人心得下</a></li></ul></li><li class="dropdown-item"><h4>JavaScript</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/passages/JavaScript/简易弹幕.html" class="nav-link">简易弹幕</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">React</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/passages/react/初识React.html" class="nav-link">react</a></li><li class="dropdown-item"><!----> <a href="/passages/react/React学习笔记.html" class="nav-link">react学习笔记</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/Kim1am" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>ES6</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/passages/ES6/ES6（个人总结一）.html" class="nav-link">ES6个人心得上</a></li><li class="dropdown-subitem"><a href="/passages/ES6/ES6（个人总结二）.html" class="nav-link">ES6个人心得下</a></li></ul></li><li class="dropdown-item"><h4>JavaScript</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/passages/JavaScript/简易弹幕.html" class="nav-link">简易弹幕</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">React</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/passages/react/初识React.html" class="nav-link">react</a></li><li class="dropdown-item"><!----> <a href="/passages/react/React学习笔记.html" class="nav-link">react学习笔记</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/Kim1am" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>JavaScript</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/passages/ES6/ES6（个人总结一）.html" class="sidebar-link">ES6 新特性（个人总结一）</a></li><li><a href="/passages/ES6/ES6（个人总结二）.html" class="sidebar-link">ES6（个人总结二）</a></li><li><a href="/passages/JavaScript/简易弹幕.html" class="sidebar-link">简易弹幕制作</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>react</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/passages/react/初识React.html" class="sidebar-link">初识React</a></li><li><a href="/passages/react/React学习笔记.html" class="active sidebar-link">React学习笔记</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/passages/react/React学习笔记.html#项目入口" class="sidebar-link">项目入口</a></li><li class="sidebar-sub-header"><a href="/passages/react/React学习笔记.html#书写组件" class="sidebar-link">书写组件</a></li><li class="sidebar-sub-header"><a href="/passages/react/React学习笔记.html#踩过的坑点" class="sidebar-link">踩过的坑点</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/passages/react/React学习笔记.html#绑定事件的方式" class="sidebar-link">绑定事件的方式</a></li><li class="sidebar-sub-header"><a href="/passages/react/React学习笔记.html#setstate的坑" class="sidebar-link">setState的坑</a></li><li class="sidebar-sub-header"><a href="/passages/react/React学习笔记.html#生命周期" class="sidebar-link">生命周期</a></li><li class="sidebar-sub-header"><a href="/passages/react/React学习笔记.html#表单组件" class="sidebar-link">表单组件</a></li><li class="sidebar-sub-header"><a href="/passages/react/React学习笔记.html#父子组件通讯" class="sidebar-link">父子组件通讯</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="react学习笔记"><a href="#react学习笔记" aria-hidden="true" class="header-anchor">#</a> React学习笔记</h1> <blockquote><p>之前根据官方文档的<a href="https://react.docschina.org/tutorial/tutorial.html" target="_blank" rel="noopener noreferrer">教程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>写了一个<code>DEMO</code>，感觉还是不够，所以特意上网找了一些更为全面的教程进行练手。毕竟无论学习什么，最快上手的方式都是自己撸一撸。</p></blockquote> <p>具体练手项目可以参考：<a href="https://github.com/Kim1am/react-practice" target="_blank" rel="noopener noreferrer">源码地址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>进行参考</p> <blockquote><p>项目具体的技术栈为：<code>axios</code>,<code>react-router-dom</code>,<code>jsonp</code>,<code>antdesign</code>,<code>less</code>,<code>echarts</code>,<code>mockjs</code>,<code>draft-js</code>,<code>draftjs-to-html</code>,<code>react-draft-wysiwyg</code>。但是这次总结主要是围绕<code>react</code></p></blockquote> <h2 id="项目入口"><a href="#项目入口" aria-hidden="true" class="header-anchor">#</a> 项目入口</h2> <p>  每当我们运行<code>create-react-app projectName</code>得时候都会生成2个文件夹(<code>node_modules</code>暂时忽略)，分别是<code>pubilc</code>以及<code>src</code>。开发的重点主要也是围绕在
<code>src</code>文件夹。然后根据平时的经验，<code>index.js</code>文件一般都是为项目的入口，那就直接从这个文件开始观看。懒得对着图片打字了，就直接在图片上解释吧，看图！
<img src="https://www.z4a.net/images/2019/11/05/index.png" alt="index.png"></p> <p><code>index.js</code>本身内容不多，大概也就这些，当然，如果我们只是练手的话，可以把<code>serviceWorker</code>删掉，问题也不大。当然如果发布到线上的话建议还是好好研究一下</p> <h2 id="书写组件"><a href="#书写组件" aria-hidden="true" class="header-anchor">#</a> 书写组件</h2> <p>   写一个最简单的<code>Component</code>,是怎样的呢？目前接触过的有两种方式（经过查询还有<code>React.createClass</code>这种方式，但是本人没有接触过）：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span><span class="token punctuation">{</span>Component<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">Example</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span><span class="token punctuation">{</span>
   <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span>
     <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
   <span class="token punctuation">}</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Example<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span>  <span class="token function">OtherExample</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Hello<span class="token punctuation">,</span> <span class="token punctuation">{</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>  在我理解中，这两种声明组件模式都是可以的，前者使用的<code>ES6</code>的<code>class</code> ，后者则是使用的是<code>函数组件</code>（也称为<code>无状态组件</code>）。在我使用的方式来说，一般都是使用前者的，不管是否使用<code>生命周期</code>还是<code>state</code>（在16.8中也可以使用<code>Hooks</code>访问<code>生命周期</code>和<code>state</code>），因为这样在
项目里面看起来更为美观和规范。
  需要注意的是，组件名称的首字母“必须”要为“大写字母”；还有<code>render</code>内部返回的代码里面，“有且只能”有一个根节点，如果说例如一定要用两个或者多个节点挂载到父节点上，可以选择使用<code>Fragment</code>，这个类似于一个虚拟的占位符，就行了。</p> <h2 id="踩过的坑点"><a href="#踩过的坑点" aria-hidden="true" class="header-anchor">#</a> 踩过的坑点</h2> <blockquote><p>以下内容都是开发的时候我觉得要注意的点，我在学习的过程中不小心踩了几次，特意记录了下来。</p></blockquote> <h3 id="绑定事件的方式"><a href="#绑定事件的方式" aria-hidden="true" class="header-anchor">#</a> 绑定事件的方式</h3> <p>  首先一定要记住的是，绑定事件的名称一定要用驼峰式：<code>onClick</code>、<code>onChange</code>……这种。而且绑定事件的时候不能加括号，在JSX里面这是运行的标志，直接写方法名字就行。另外多说一个,<code>class</code>需要改成<code>className</code>才能生效。多说无益，直接贴图吧</p> <p><img src="https://www.z4a.net/images/2019/11/05/method.png" alt="method.png"></p> <h3 id="setstate的坑"><a href="#setstate的坑" aria-hidden="true" class="header-anchor">#</a> <code>setState</code>的坑</h3> <p><code>setState</code>本身并非“同步”的！！，在做练手项目的时候，有一个数据处理是需要依赖<code>state</code>的本身。但是发现并没有按照原本设想的逻辑进行，从而踩到这个坑。经过查阅官方文档以及技术论坛，发现了<code>setState</code>本身为了性能优化，以及数据更新的一致性（<code>props</code>）才做的处理。
这个机制就有点像<code>Vue</code>本身的<code>nextTick</code>。如果真的需要同步，可以通过使用<code>setState</code>本身的第二个参数（回调函数），来进行处理。详细原理后续可能会出文章深入。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      count<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'加载完成'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="生命周期"><a href="#生命周期" aria-hidden="true" class="header-anchor">#</a> 生命周期</h3> <p>  无论什么框架都离不开生命周期这一说。在<code>react</code>中有着丰富的生命周期，下面按照生命周期的顺序梳理一遍。</p> <ol><li><code>constructor</code>-------组件挂在前调用，初始化<code>state</code>，绑定事件示例（<code>this</code>）</li> <li><code>*componentWillMount</code>   -------注意：该组件归为警告API，在挂载前调用，整个生命周期只会调用一次，更新不调用</li> <li><code>render</code> ------- 必须要有的函数，挂载组件，每次更改<code>state</code>或者<code>props</code>都会调用，除非被<code>shouldComponentUpdate</code>返回<code>false</code></li> <li><code>componentDidMount</code> ------- 挂载组件后被调用，官方推荐在这个生命周期内部进行类似请求还有<code>setState</code>操作，进行DOM节点初始化。</li></ol> <p>以上都是挂载的生命周期，对应的还有更新组件的生命周期</p> <ol><li><code>*componentWillReceiveProps</code>------- -注意：该组件归为警告API，当接受到新的<code>props</code>时调用，更改<code>state</code>不会触发，</li> <li><code>shouldComponentUpdate</code>   -------  这个生命周期控制了组件是否重新渲染，当返回<code>true</code>的时候会<code>render</code>，为<code>false</code>则不渲染，且不会运行<code>componentWillUpdate</code>、<code>render</code>以及<code>componentDidUpdate</code></li> <li><code>*componentWillUpdata</code> ------- 注意：该组件归为警告API，这个生命周期同样的会在组件更新前触发，不过会在<code>shouldComponentUpdate</code>之后,在这个API之后就会运行<code>render</code></li> <li><code>componentDidUpdate</code> ------- 组件更新后会调用，但是首次渲染不会调用</li></ol> <p>卸载生命周期：<code>componentWillUnmount</code>组件卸载或者销毁时触发，一般用于清除定时器以及订阅等等操作</p> <blockquote><p>当然不止这些一些比较陌生的生命周期：<code>getDerivedStateFromProps</code>、<code>getSnapshotBeforeUpdate</code>、<code>getDerivedStateFromError</code>、<code>componentDidCatch</code>，这些暂时还没想到有特别大的应用区域就不作解释了</p></blockquote> <h3 id="表单组件"><a href="#表单组件" aria-hidden="true" class="header-anchor">#</a> 表单组件</h3> <p>  从<code>Vue</code>到<code>React</code>，其中一个很大的区别就是数据流向的差别，<code>react</code>是单向数据流，如果要实现类似于<code>Vue</code>中的双向绑定，一般都选择绑定<code>onChange</code>事件，然后对对应的<code>state</code>作出更改。当然这些都是没有应用其他框架的情况，如果有使用<code>ant-design</code>的话就可以使用其内部的表单组件进行。</p> <h3 id="父子组件通讯"><a href="#父子组件通讯" aria-hidden="true" class="header-anchor">#</a> 父子组件通讯</h3> <p>  类似于<code>Vue</code>，永远离不开的都是数据通讯问题，其实两个框架都很相像,看图！</p> <p><img src="https://www.z4a.net/images/2019/11/05/fatherSon.png" alt="fatherSon.png"></p> <blockquote><p>总结：这篇文章主要是我在学习<code>react</code>时做的一些总结，是我个人需要注意的一些点。当然每个人觉得需要注意的点都不一样，如果你有其他觉得要注意的，也可以去我的<a href="https://github.com/Kim1am/kim1am.github.io/issues" target="_blank" rel="noopener noreferrer">issue<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>里面提出。大家一起交流一起学习！</p></blockquote></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/passages/react/初识React.html" class="prev">
          初识React
        </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.68c58eb5.js" defer></script><script src="/assets/js/2.0f596662.js" defer></script><script src="/assets/js/9.c5be7144.js" defer></script>
  </body>
</html>
